---
title: 智力题
date: 2021-08-19 22:05:09
categories: 
- 面试常见
tags: [智力题]
---
面试碰到的一些杂题，智力题。

## rand5实现rand7

要等概率生成数字，证明生成的数字组合方式只有一种。所以rand5()+rand5()+1这种是不行的。

考虑5 * (rand5() - 1) + rand5()；

5 * rand5()-1 产生[0,5,10,15,20]， rand5()产生[1,2,3,4,5]，相加后可以产生[1-25]。

而且[1-25]每种数字产生的组合只有一种。

我们要生成rand7[1-7]；就从[1-25]中取7的最大倍数作为右边界，超出那一部分的数不要。所以可以等概率生成[1-21]；然后再对7取模，可以等概率生成[0-6]； 加1后等概率生成[1-7]。

## 变种： rand35[0-34]实现rand47[0-46]

分析：
考虑35*(rand35)， 这里不用-1是因为这里边界已经是0了。

所以等概率产生[0,35,70, ... ,1190]，再加上rand35产生的[0,1,...,34]，相加后产生[0-1190]，且每种数字产生的组合只有一种。

要生成的是rand47[0-46]，取46的最大倍数1175，舍弃1175以上的数值，取生成的数值范围[0-1175]；

对47取模，可以等概率生成[0-46]。


